<!DOCTYPE html>
<html lang="en">
<head>
    <meta>
    <title>Open banking - DiPocket API Specification</title>
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet">
    <style>
        .code {
            background-color: #e5e5e5;
            padding: 12px 18px;
            border: 1px solid #999999;
            margin-top: 16px;
            overflow-wrap: break-word !important;
            font-family: monospace !important;
            font-size: .9rem !important;
        }
    </style>
</head>
<body>
<div class="container">
    <h1 class="text-center">Open banking &mdash; DiPocket <br>API Specification</h1>
    <h2>Overview</h2>
    <p>This document describes the DiPocket’s implementation of Open Banking dedicated interface and specifies the set of API calls to access information about PSU accounts and receive the confirmation of funds. The DiPocket’s implementation of Open Banking dedicated interface follows the “NextGenPSD2 XS2A Specification” developed by Berlin Group market initiative. The Berlin Group is a pan-European payments interoperability standards and harmonization initiative with the primary objective of defining open and common scheme- and processor-independent standards in the interbanking domain.</p>
    <h2>API definitions</h2>
    <p>The following abbreviations are used for the format:</p>
    <table class="table table-striped border">
        <tr>
            <td>A</td>
            <td>=</td>
            <td class="col-11">Alphabetic characters</td>
        </tr>
        <tr>
            <td>N</td>
            <td>=</td>
            <td>Numeric characters</td>
        </tr>
        <tr>
            <td>AN</td>
            <td>=</td>
            <td>Alphanumeric</td>
        </tr>
        <tr>
            <td>B</td>
            <td>=</td>
            <td>Boolean</td>
        </tr>
        <tr>
            <td>V</td>
            <td>=</td>
            <td>Variable character field</td>
        </tr>
        <tr>
            <td>D</td>
            <td>=</td>
            <td>Date field</td>
        </tr>
    </table>
    <h2>Conventions</h2>
    <p>Amounts: all money amounts are represented in cents, e.g.: </p>
    <ul>
        <li>GBP 999.99 would be expressed as &lt;99999&gt;</li>
        <li>PLN 99 would be expressed as &lt;9900&gt;</li>
    </ul>
    <h2>Test host</h2>
    <p>https://lvov.csltd.com.ua</p>
    <h2>Production host</h2>
    <p>https://openbanking.dipocket.org</p>
    <h2>Signing</h2>
    <p>DiPocket requires to sign request messages. The signature shall be included in the HTTP header. The electronic
       signature has to be based on a qualified certificate for electronic seals. This qualified certificate has to be
       issued by a qualified trust service provider. </p>
    <p>This specification uses on a pure protocol level the following HTTP header in all HTTP requests uniformously for
       the support of the signature function:</p>
    <h4>Request Headers</h4>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Attribute</td>
            <td>Type</td>
            <td>Description</td>
        </tr>
        <tr>
            <td>Digest</td>
            <td>String</td>
            <td>
                <p>Is contained if and only if the &quot;Signature&quot; element is contained in the header of the
                   request.</p>
                <p>The &ldquo;Digest&rdquo; Header contains a Hash of the message body. The only hash algorithms that
                   may be used to calculate the digest within the context of this specification are SHA-256 and
                   SHA-512.</p>
            </td>
        </tr>
        <tr>
            <td>Signature</td>
            <td colspan="2">
                A signature of the request by the TPP on application level. See table &lsquo;Elements of the &quot;Signature&quot;
                Header&rsquo; and example below.
            </td>
        </tr>
        <tr>
            <td>TPP-Signature-Certificate</td>
            <td>String</td>
            <td>The certificate used for signing the request, in base64 encoding.</td>
        </tr>
    </table>
    <p>The following table lists the requirements on the &quot;Signature&quot; header:</p>
    <table class="table table-bordered table-striped">
        <thead>
        <h4>Elements of the &quot;Signature&quot; Header</h4>
        </thead>
        <tr>
            <td>Element</td>
            <td>Type</td>
            <td>Condition</td>
            <td>Requirement</td>
        </tr>
        <tr>
            <td>keyId</td>
            <td>String</td>
            <td>Mandatory</td>
            <td>
                <p>The keyId field is a string that the server can use to look up the component they need to validate
                   the signature.</p>
                <p>Serial Number of the TPP's certificate included in the &quot;TPP-Signature-Certificate&quot; header
                   of this request. It shall be formatted as follows:</p>
                <code class="mb-2 d-block">keyId=&quot;SN=XXX,CA=YYYYYYYYYYYYYYYY&quot;</code>
                <p>where &ldquo;XXX&quot; is the serial number of the certificate in hexadecimal coding given in the
                   TPP-Signature-Certificate Header and &quot;YYYYYYYYYYYYYYYY&quot; is the full Distinguished Name of
                   the Certification Authority having produced this certificate.</p>
            </td>
        </tr>
        <tr>
            <td>Algorithm</td>
            <td>String</td>
            <td>Optional</td>
            <td>
                The &quot;Algorithm &quot; parameter is used to specify the digital signature algorithm to use when
                generating the signature. Valid values for this parameter can be found in the Signature. The algorithm
                must identify the same algorithm for the signature as presented in the certificate (Element &quot;TPP-Signature-Certificate&quot;)
                of this Request. It must identify SHA-256 or SHA-512 as Hash algorithm.
            </td>
        </tr>
        <tr>
            <td>Headers</td>
            <td>String</td>
            <td>Mandatory</td>
            <td>
                <p>The &quot;Headers&quot; parameter is used to specify the list of HTTP headers included when
                   generating the signature for the message. If specified, it should be a lowercased, quoted list of</p>
                <p>HTTP header fields, separated by a single space character.</p>
                <p>If not specified, implementations MUST operate as if the field were specified with a single value,
                   the `Date` header, in the list of HTTP headers.</p>
                <p>Note that the list order is important, and MUST be specified in the order the HTTP header field-value
                   pairs are concatenated together during signing.</p>
                <p>Must include:</p>
                <ul>
                    <li>&quot;Digest&quot;,</li>
                    <li>&quot;X-Request-ID&quot;,</li>
                    <li>&quot;PSU-ID&quot; (Client ID of the PSU. If and only if &quot;PSU-ID&quot; is included as a
                        header of the HTTP-Request)
                    </li>
                    <li>&quot;PSU-Corporate-ID&quot; (Type of the PSU-ID, needed in scenarios where PSUs have several
                        PSU-IDs as access possibility. If and only if &quot;PSU Corporate-ID&quot; is included as a
                        header of the HTTP-Request),
                    </li>
                    <li>&quot;Date&quot;</li>
                    <li>&quot;TPP-Redirect-URI&quot;(if and only if &quot;TPP-Redirect-URI&quot; is included as a header
                        of the HTTP-Request).
                    </li>
                    <li>No other entries may be included.</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>Signature</td>
            <td>String</td>
            <td>Mandatory</td>
            <td>
                The &quot;signature&quot; parameter is a base 64 encoded digital signature. The client uses the <code>algorithm</code>
                and <code>headers</code> signature parameters to form a canonicalised <code>signing string</code>. This
                `signing string<code> is then signed with the key associated with </code>keyId` and the algorithm
                corresponding to <code>algorithm</code>. The <code>signature</code> parameter is then set to the base 64
                encoding of the signature.
            </td>
        </tr>
    </table>
    <h3>Example</h3>
    <p>Assume a TPP needs to include a signature in the following Request:</p>
    <pre class="code">
POST https://api.testbank.com/v1/payments/sepa-credit-transfers
Content-Type: application/json
X-Request-ID: 99391c7e-ad88-49ec-a2ad-99ddcb1f7721
PSU-IP-Address: 192.168.8.78
PSU-ID: PSU-1234
PSU-User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:54.0) Gecko/20100101 Firefox/54.0
TPP-Redirect-URI:https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb&amp;code_Cchallenge_Mmethod="S256"
Date: Sun, 06 Aug 2017 15:02:37 GMT

{
	"instructedAmount": {
		"currency": "EUR", "amount": "123"
	},
	"debtorAccount": {
		"iban": "DE2310010010123456789"
	},
	"creditor": {
		"name": "Merchant123"
	},
	"creditorAccount": {
		"iban": "DE23100120020123456789"
	},
	"remittanceInformationUnstructured": "Ref Number Merchant"
}</pre>
    <p>So the body would encode to the following String in Base64:</p>
    <div class="code" style="overflow-wrap: break-word; font-family: monospace">
        eyAgICANCiAgICJpbnN0cnVjdGVkQW1vdW50IjogeyJjdXJyZW5jeSI6ICJFVVIiLCAiYW1vdW50IjogIjEyMyJ9LA0KICAgImRlYnRvckFjY291bnQiOiB7ImliYW4iOiAiREUyMzEwMDEwMDEwMTIzNDU2Nzg5In0sDQogICAiY3JlZGl0b3IiOiB7Im5hbWUiOiAiTWVyY2hhbnQxMjMifSwNCiAgICJjcmVkaXRvckFjY291bnQiOiB7ImliYW4iOiAiREUyMzEwMDEyMDAyMDEyMzQ1Njc4OSJ9LA0KICAgInJlbWl0dGFuY2VJbmZvcm1hdGlvblVuc3RydWN0dXJlZCI6ICJSZWYgTnVtYmVyIE1lcmNoYW50Ig0KfQ==
    </div>
    <p class="mt-4">and SHA-256 of the request body is</p>
    <pre class="code">
F9li3V7yu8S/QKVOhWiiiqJBhGMVId8UGZ4sBRVPkok= in Base64
('17D962DD5EF2BBC4BF40A54E8568A28AA24184631521DF14199E2C05154F9289' in hexadecimal representation)</pre>
    <p class="mt-4">So using signature algorithm rsa-sha256 the signed request of the TPP will be</p>
    <pre class="code">
POST https://api.testbank.com/v1/payments/sepa-credit-transfers
Content-Type: application/json
X-Request-ID: 99391c7e-ad88-49ec-a2ad-99ddcb1f7721
PSU-IP-Address: 192.168.8.78
PSU-ID: PSU-1234
PSU-User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:54.0)
Gecko/20100101 Firefox/54.0
TPP-Redirect-URI: https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb&code_Cchallenge_Mmethod="S256"
Date: Sun, 06 Aug 2017 15:02:37 GMT
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",
headers="Digest X-Request-ID PSU-ID TPP-Redirect-URI Date",
signature="Base64(RSA-SHA256(signing string))"
TPP-Signature-Certificate: TPP's_eIDAS_Certificate

{
	"instructedAmount": {
		"currency": "EUR", "amount": "123"
	},
	"debtorAccount": {
		"iban": "DE2310010010123456789"
	},
	"creditor": {
		"name": "Merchant123"
	},
	"creditorAccount": {
		"iban": "DE23100120020123456789"
	},
	"remittanceInformationUnstructured": "Ref Number Merchant"
}</pre>
    <p>Where signing string is:</p>
    <pre class="code">
digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
x-request-id: 99391c7e-ad88-49ec-a2ad-99ddcb1f7721
psu-id: PSU-1234
tpp-redirect-uri: https://client.example.com/cb&code_Cchallenge_Mmethod="S256"
date: Sun, 06 Aug 2017 15:02:37 GMT</pre>
    <h2>PSU authentication journey</h2>
    <p>This service is intended for the PSU authentication prior to providing the accounts and confirmation of funds services.</p>
    <pre class="code">
POST [host]/v1/consents</pre>
    <h3>Request</h3>
    <table class="table table-bordered table-striped">
        <tr>
            <td>Section</td>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>-</td>
            <td>TPP-Redirect-URI</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td>Link for positive response <a>https://tpp.calling.resource.com/OK_redirect</a></td>
        </tr>
        <tr>
            <td>-</td>
            <td>TPP-Nok-Redirect-URI</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td>Link for negative response <a>https://tpp.calling.resource.com/NOK_redirect</a></td>
        </tr>
        <tr>
            <td>balances</td>
            <td>iban</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>34</td>
            <td>List of IBANs to which third party is asking access to view balance</td>
        </tr>
        <tr>
            <td>transactions</td>
            <td>iban</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>34</td>
            <td>List of IBANs to which third party is asking access to view transactions</td>
        </tr>
        <tr>
            <td>-</td>
            <td>recurringIndicator</td>
            <td>B</td>
            <td>NOT</td>
            <td>-</td>
            <td>-</td>
            <td>
                <p>true, if the consent is for recurring access to the account data </p>
                <p>false, if the consent is for one access to the account data</p>
            </td>
        </tr>
        <tr>
            <td>-</td>
            <td>validUntil</td>
            <td>D</td>
            <td>NOT</td>
            <td>-</td>
            <td>-</td>
            <td>
                <p>This parameter defines a “valid until” date for the requested consent. The content is the local ASPSP date in ISODate Format, e.g. 2017-10-30.</p>
                <p>The consent object to be retrieved by the GET Consent Request will contain the date adjusted by DiPocket to meet the RTS SCA requirements.</p>
            </td>
        </tr>
        <tr>
            <td>-</td>
            <td>frequencyPerDay</td>
            <td>N</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td>This field indicates the requested maximum frequency for an access per day. For a one-off access, this
                attribute is set to &quot;1&quot;.
            </td>
        </tr>
    </table>
    <h3>Response</h3>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>ASPSP-SCA-Approach</td>
            <td>V</td>
            <td>NO</td>
            <td>-</td>
            <td>-</td>
            <td>Constant value = REDIRECT</td>
        </tr>
        <tr>
            <td>Location</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>unique resource per consent created by DiPocket</td>
        </tr>
        <tr>
            <td>consentStatus</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>
                <p>
                    <code>received</code> - The consent data have been received and are technically correct. The data is
                                          not authorised yet.</p>
                <p>
                    <code>rejected</code> - The consent data have been rejected e.g. since no successful authorisation
                                          has taken place.</p>
                <p>
                    <code>valid</code> - The consent is accepted and valid for GET account data calls and others as
                                       specified in the consent object. </p>
                <p>
                    <code>revokedByPsu</code> - The consent has been revoked by the PSU towards the ASPSP. </p>
                <p>
                    <code>expired</code> - The consent expired. </p>
                <p>
                    <code>terminatedByTpp</code> - The corresponding TPP has terminated the consent by applying the
                                                 DELETE method to the consent resource. </p></td>
        </tr>
        <tr>
            <td>consentId</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>Unique Id of created consent</td>
        </tr>
        <tr>
            <td>scaRedirect</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>Link to customer authentication page https://api.dipocket.org/authentication/1234-wertiq-983</td>
        </tr>
        <tr>
            <td>status</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>Path to consent status service /v1/consents/1234-wertiq-983/status</td>
        </tr>
        <tr>
            <td>responseCode</td>
            <td>N</td>
            <td>YES</td>
            <td>-</td>
            <td>3</td>
            <td><a>List of the Response codes</a></td>
        </tr>
    </table>
    <h3>Request </h3>
    <pre class="code" style="overflow-wrap: break-word !important;">
POST [host]/OpenBankingServices/v1/consents HTTP/1.1
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=ACF73079EF4B1C91B1A416FB454CD0E9
Content-Type: application/json
Tpp-Redirect-Uri: TPP-Redirect-URITEST
Tpp-Nok-Redirect-Uri: TPP-Nok-Redirect-URITEST
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",headers="Digest
X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))"
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp
Psu-Ip-Address: 192.168.1.1
Psu-Id: testtppid
User-Agent: PostmanRuntime/7.16.3
Accept: */*
Host: lvov.csltd.com.ua
Accept-Encoding: gzip, deflate
Content-Length: 243
Connection: keep-alive

{
    "access": {
        "balances": [
            {"iban": "PL28124069604103380992567879"}
        ],
        "transactions": [
            { "iban": "PL28124069604103380992567879" }
        ]
    },
    "recurringIndicator": true,
    "validUntil": "2020-11-01",
    "frequencyPerDay": "4"
}
    </pre>
    <h3>Response </h3>
    <pre class="code">
HTTP/1.1 201 Created
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 12:14:42 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
ASPSP-SCA-Approach: REDIRECT
Location: /v1/consents/WK48GZFITTYLSC6
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000 ; includeSubDomains
X-Frame-Options: DENY

{
    "consentId": "WK48GZFITTYLSC6",
    "consentStatus": "received",
    "_links": {
            "scaRedirect": {
            "href": "https://api.dipocket.org/authentication/WK48GZFITTYLSC6"
        }
    },
    "status": {
        "href": "/v1/consents/WK48GZFITTYLSC6/status"
    }
}
    </pre>
    <h2>Get Consent Status Request</h2>
    <p>Service returns status of the consent</p>
    <pre class="code">
GET [host]/OpenBankingServices/v1/consents/[consentId]/status</pre>
    <h4>Request</h4>
    <table class="table table-bordered table-striped">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>Consent-ID</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td></td>
        </tr>
    </table>
    <h4>Response</h4>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>consentStatus</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>
                <p>
                    <code>received</code> - The consent data have been received and are technically correct. The data is
                                          not authorised yet.</p>
                <p><code>rejected</code> - The consent data have been rejected e.g. since no successful authorisation
                                         has taken place.</p>
                <p><code>valid</code> - The consent is accepted and valid for GET account data calls and others as
                                      specified in the consent object. </p>
                <p><code>revokedByPsu</code> - The consent has been revoked by the PSU towards the ASPSP. </p>
                <p><code>expired</code> - The consent expired.</p>
                <p><code>terminatedByTpp</code> - The corresponding TPP has terminated the consent by applying the
                                                DELETE method to the consent resource. </p>
            </td>
        </tr>
    </table>
    <h4>Request </h4>
    <pre class="code">
GET [host]/OpenBankingServices/v1/consents/[consentId]/status HTTP/1.1
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=ACF73079EF4B1C91B1A416FB454CD0E9
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",headers="Digest
X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))"
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp
Psu-Ip-Address: 192.168.1.1
Psu-Id: testtppid
Tpp-Redirect-Uri: TPP-Redirect-URITEST
User-Agent: PostmanRuntime/7.16.3
Accept: */*
Host: lvov.csltd.com.ua
Accept-Encoding: gzip, deflate
Connection: keep-alive
    </pre>
    <h4>Response </h4>
    <pre class="code">
HTTP/1.1 200 OK
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 12:19:04 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000 ; includeSubDomains
X-Frame-Options: DENY

{
    "consentStatus": "received"
}</pre>
    <h2>Get Consent Request</h2>
    <p>Service shows list of IBANs available to access by provided Consent ID and consent details. </p>
    <pre class="code">
GET [host]/OpenBankingServices/v1/consents/[consentId] HTTP/1.1</pre>
    <h4>Request</h4>
    <table class="table table-bordered table-striped">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>Consent-ID</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td></td>
        </tr>
    </table>
    <h4>Response</h4>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Section</td>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>balances</td>
            <td>iban</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>34</td>
            <td>List of IBANs to which third party has access to view balance</td>
        </tr>
        <tr>
            <td>transactions</td>
            <td>iban</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>34</td>
            <td>List of IBANs to which third party has access to view transactions</td>
        </tr>
        <tr>
            <td>-</td>
            <td>recurringIndicator</td>
            <td>B</td>
            <td>YES</td>
            <td>-</td>
            <td>-</td>
            <td>
                <p>
                    <code>true</code>, if the consent is for recurring access to the account data </p>
                <p><code>false</code>, if the consent is for one access to the account data </p>
            </td>
        </tr>
        <tr>
            <td>-</td>
            <td>validUntil</td>
            <td>D</td>
            <td>YES</td>
            <td>-</td>
            <td>-</td>
            <td>
                <p>This parameter defines a “valid until” date for the requested consent. The content is the local ASPSP date in ISODate Format, e.g. 2017-10-30.</p>
                <p>The consent object to be retrieved by the GET Consent Request will contain the date adjusted by DiPocket to meet the RTS SCA requirements.</p>
            </td>
        </tr>
        <tr>
            <td>-</td>
            <td>frequencyPerDay</td>
            <td>N</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>This field indicates the requested maximum frequency for an access per day. For a one-off access, this
                attribute is set to &quot;1&quot;.
            </td>
        </tr>
        <tr>
            <td>-</td>
            <td>consentStatus</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>
                <p><code>received</code> - The consent data have been received and are technically correct. The data is
                                         not authorised yet.</p>
                <p><code>rejected</code> - The consent data have been rejected e.g. since no successful authorisation
                                         has taken place.</p>
                <p><code>valid</code> - The consent is accepted and valid for GET account data calls and others as
                                      specified in the consent object. </p>
                <p><code>revokedByPsu</code> - The consent has been revoked by the PSU towards the ASPSP. </p>
                <p><code>expired</code> - The consent expired. </p>
                <p><code>terminatedByTpp</code> - The corresponding TPP has terminated the consent by applying the
                                                DELETE method to the consent resource. </p>
            </td>
        </tr>
        <tr>
            <td>-</td>
            <td>account</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>Path for accounts service /v1/accounts</td>
        </tr>
    </table>
    <h4>Example</h4>
    <pre class="code">
GET [host]/OpenBankingServices/v1/consents/[consentId] HTTP/1.1
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=ACF73079EF4B1C91B1A416FB454CD0E9
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",
headers="Digest X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))"
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp
Psu-Ip-Address: 192.168.1.1
Psu-Id: testtppid
Tpp-Redirect-Uri: TPP-Redirect-URITEST
User-Agent: PostmanRuntime/7.16.3
Accept: */*
Host: lvov.csltd.com.ua
Accept-Encoding: gzip, deflate
Connection: keep-alive
</pre>
    <h4>Response </h4>
    <pre class="code">
HTTP/1.1 200 OK
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 12:22:46 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000 ; includeSubDomains
X-Frame-Options: DENY

{
	"access": {
		"balances": [
			{"iban": "PL29124069604103800000004864"},
			{"iban": "PL32124069604100800000004863"}
		],
		"transactions": [
			{"iban": "PL32124069604100800000004863"}
		]
	},
	"recurringIndicator": true,
	"validUntil": "2019-10-20",
	"frequencyPerDay": 5,
	"consentStatus": "valid",
	"_links": {
		"account": {
			"href": "/v1/accounts"
		}
	}
}</pre>
    <h2>Delete an Account Information Consent Object</h2>
    <p>Service allows to change status of consent to &lsquo;terminatedByTpp&rsquo;</p>
    <pre class="code">
DELETE [host]/OpenBankingServices/v1/consents/[consentId]</pre>
    <h4>Request</h4>
    <table class="table table-bordered table-striped">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>Consent-ID</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td>Consent ID which should be deleted</td>
        </tr>
    </table>
    <p class="code">Response HTTP/1.x 204 No Content </p>
    <h3>Example </h3>
    <h4>Request </h4>
    <pre class="code">
DELETE [host]/OpenBankingServices/v1/consents/[consentId] HTTP/1.1
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=ACF73079EF4B1C91B1A416FB454CD0E9
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",
headers="Digest X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))"
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp
Psu-Ip-Address: 192.168.1.1
Psu-Id: testtppid
Tpp-Redirect-Uri: TPP-Redirect-URITEST
User-Agent: PostmanRuntime/7.16.3
Accept: */*
Host: lvov.csltd.com.ua
Accept-Encoding: gzip, deflate
Content-Length:
Connection: keep-alive</pre>
    <h4>Response </h4>
    <pre class="code">
HTTP/1.1 204 No Content
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 12:29:59 GMT
Connection: keep-alive
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000 ; includeSubDomains
X-Frame-Options: DENY</pre>
    <h2>Read Account List</h2>
    <p>Service shows list of accounts which are available by provided consent ID and level of access for each</p>
    <pre class="code">
GET [host]/OpenBankingServices/v1/accounts</pre>
    <h4>Request</h4>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>Consent-ID</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td></td>
        </tr>
    </table>
    <h4>Response</h4>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>iban</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>34</td>
            <td>List of IBANs to which third party has access</td>
        </tr>
        <tr>
            <td>currency</td>
            <td>A</td>
            <td>YES</td>
            <td>3</td>
            <td>3</td>
            <td>ISO 4217 alphabetic code; Account currency code</td>
        </tr>
        <tr>
            <td>name</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>30</td>
            <td>Account name</td>
        </tr>
        <tr>
            <td>balances</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>Path for balances service /v1/accounts/ FR7612345987650123456789014/balances</td>
        </tr>
        <tr>
            <td>transactions</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>Path for transactions service /v1/accounts/ FR7612345987650123456789014/transactions</td>
        </tr>
    </table>
    <h4>Request </h4>
    <pre class="code">
GET [host]/OpenBankingServices/v1/accounts HTTP/1.1
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=ACF73079EF4B1C91B1A416FB454CD0E9
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",headers="Digest X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))"
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp
Psu-Ip-Address: 192.168.1.1
Psu-Id: testtppid
Consent-ID: KNL2UQ7S7JS3MH3
User-Agent: PostmanRuntime/7.16.3
Accept: */*
Host: lvov.csltd.com.ua
Accept-Encoding: gzip, deflate
Connection: keep-alive</pre>
    <h4>Response</h4>
    <pre class="code">
HTTP/1.1 200 OK
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 12:32:40 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000 ; includeSubDomains
X-Frame-Options: DENY

{
	"accounts": [
		{
			"iban": "PL32124069604100800000004863",
			"currency": "PLN",
			"name": "Main Account",
			"_links": {
				"balances": {
					"href": "/v1/accounts/PL32124069604100800000004863/balances"
				},
				"transactions": {
					"href": "/v1/accounts/PL32124069604100800000004863/transactions"
				}
			}
		},
		{
			"iban": "PL29124069604103800000004864",
			"currency": "GBP",
			"name": "GBP Account",
			"_links": {
				"balances": {
					"href": "/v1/accounts/PL29124069604103800000004864/balances"
				}
			}
		}
	]
}</pre>
    <h2>Read Account Details</h2>
    <p>Service shows details of account and level of access to it</p>
    <pre class="code">
GET [host]/OpenBankingServices/v1/accounts/[iban]</pre>
    <h4>Request</h4>
    <table class="table-striped table table-bordered">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>Consent-ID</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td></td>
        </tr>
        <tr>
            <td>iban</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>34</td>
            <td>IBAN</td>
        </tr>
    </table>
    <h4>Response</h4>
    <table class="table table-bordered table-striped">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>iban</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>34</td>
            <td>IBAN</td>
        </tr>
        <tr>
            <td>currency</td>
            <td>A</td>
            <td>YES</td>
            <td>3</td>
            <td>3</td>
            <td>ISO 4217 alphabetic code; Account currency code</td>
        </tr>
        <tr>
            <td>name</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>30</td>
            <td>Account name</td>
        </tr>
        <tr>
            <td>balances</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>Link to balances service /v1/accounts/ FR7612345987650123456789014/balances</td>
        </tr>
        <tr>
            <td>transactions</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>?</td>
            <td>Link to transactions service /v1/accounts/ FR7612345987650123456789014/transactions</td>
        </tr>
    </table>
    <h4>Request </h4>
    <pre class="code">
GET [host]/OpenBankingServices/v1/accounts/[iban] HTTP/1.1"
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=ACF73079EF4B1C91B1A416FB454CD0E9"
Consent-Id: KNL2UQ7S7JS3MH3"
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM="
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",headers="Digest X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))""
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp"
Psu-Ip-Address: 192.168.1.1"
Psu-Id: testtppid"
User-Agent: PostmanRuntime/7.16.3"
Accept: */*"
Host: lvov.csltd.com.ua"
Accept-Encoding: gzip, deflate"
Connection: keep-alive"
    </pre>
    <h4>Response</h4>
    <pre class="code">
HTTP/1.1 200 OK
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 12:36:06 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000 ; includeSubDomains
X-Frame-Options: DENY
{
    "account": {
    "iban": "PL29124069604103800000004864",
    "currency": "GBP",
    "name": "GBP Account",
    "_links": {
        "balances": {
            "href": "/v1/accounts/PL29124069604103800000004864/balances"
            }
        }
    }
</pre>
    <h2>Read Balance</h2>
    <p>Service shows available balance of the account</p>
    <pre class="code">
GET [host]/OpenBankingServices/v1/accounts/[iban]/balances</pre>
    <h4>Request</h4>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>Consent-ID</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td></td>
        </tr>
        <tr>
            <td>iban</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>34</td>
            <td>IBAN</td>
        </tr>
    </table>
    <h4>Response</h4>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>iban</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>34</td>
            <td>IBAN</td>
        </tr>
        <tr>
            <td>balanceType</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td>constant value = interimAvailable The working assumption is that DiPocket will provide only
                interimAvailable balance type.
            </td>
        </tr>
        <tr>
            <td>currency</td>
            <td>A</td>
            <td>NOT</td>
            <td>3</td>
            <td>3</td>
            <td>ISO 4217 alphabetic code;</td>
        </tr>
        <tr>
            <td>amount</td>
            <td>N</td>
            <td>NOT</td>
            <td>-</td>
            <td>15</td>
            <td>Available amount of the default account in the IBAN currency</td>
        </tr>
    </table>
    <h3>Example </h3>
    <h4>Request </h4>
    <pre class="code">
GET [host]/OpenBankingServices/v1/accounts/[iban]/balances HTTP/1.1"
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=ACF73079EF4B1C91B1A416FB454CD0E9"
Consent-Id: KNL2UQ7S7JS3MH3"Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM="
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",headers="Digest X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))""
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp"
Psu-Ip-Address: 192.168.1.1"Psu-Id: testtppid"
User-Agent: PostmanRuntime/7.16.3"Accept: */*"
Host: lvov.csltd.com.ua"
Accept-Encoding: gzip, deflate"Connection: keep-alive"
    </pre>
    <h4>Response</h4>
    <pre class="code">
HTTP/1.1 200 OK
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 12:38:42 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate,max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000 ; includeSubDomains
X-Frame-Options: DENY

{
	"account": {
		"iban": "PL29124069604103800000004864"
	},
	"balances": [
		{
			"balanceType": "interimAvailable",
			"balanceAmount":
				{
					"currency": "GBP",
					"amount": -22020
				}
		}
	]
}</pre>
    <h2>Read Transaction List</h2>
    <p>Service shows list of the transactions by account for selected period</p>
    <pre class="code">
GET[host]/OpenBankingServices/v1/accounts/[iban]/transactions[query params]</pre>
    <h4>Request</h4>
    <table class="table table-striped table-bordered">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>Consent-ID</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td></td>
        </tr>
        <tr>
            <td>iban</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>34</td>
            <td>IBAN</td>
        </tr>
        <tr>
            <td>dateFrom</td>
            <td>D</td>
            <td>NOT</td>
            <td>-</td>
            <td>-</td>
            <td>yyyy-mm-dd e.g.2017-07-21</td>
        </tr>
        <tr>
            <td>dateTo</td>
            <td>D</td>
            <td>YES</td>
            <td>-</td>
            <td>-</td>
            <td>optional (inclusive the data dateTo) of the transaction list, default is &quot;now&quot; if not given
            </td>
        </tr>
        <tr>
            <td>bookingStatus</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>-</td>
            <td>mandatory; the working assumption is that DiPocket will provide only &ldquo;booked&rdquo; status. All
                other bookingStatus values should result in error &ldquo;400 Bad Request&rdquo;
            </td>
        </tr>
    </table>
    <h4>Response</h4>
    <table class="table table-bordered table-striped">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>iban</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>34</td>
            <td>IBAN</td>
        </tr>
        <tr>
            <td>purposeCode</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>30</td>
            <td>
                <ul>
                    <li>Bank transfer</li>
                    <li>Contactless Purchase</li>
                    <li>In-store Purchase</li>
                    <li>Cash withdrawal</li>
                    <li>Contactless phone</li>
                    <li>DiP transfer</li>
                    <li>Face to face</li>
                    <li>Online Purchase</li>
                    <li>Move My Funds</li>
                    <li>Fee</li>
                    <li>Payment transaction</li>
                    <li>Balance Check at ATM</li>
                    <li>Pin Change in ATM</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td>creditorAccount</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>34</td>
            <td>
                <p>IBAN for bank transfer (outcoming)</p>
                <p>Do not show for other transfer types</p>
            </td>
        </tr>
        <tr>
            <td>creditorName</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>2000</td>
            <td>&quot;[Merchant_Name]&quot;, //if purchase; &quot;First name Last name&quot;, //if Dip Transfer// Payee
                name for bank transfer
            </td>
        </tr>
        <tr>
            <td>debtorName</td>
            <td>V</td>
            <td>YES</td>
            <td>-</td>
            <td>2000</td>
            <td>&quot;[Merchant_Name]&quot;, //if reversal/refund; &quot;Paul Simpson&quot;,// if Dip Request Money//
                Payer name for incoming bank transfer
            </td>
        </tr>
        <tr>
            <td>currency</td>
            <td>A</td>
            <td>YES</td>
            <td>3</td>
            <td>3</td>
            <td>ISO 4217 alphabetic code; Transaction currency</td>
        </tr>
        <tr>
            <td>amount</td>
            <td>N</td>
            <td>YES</td>
            <td>-</td>
            <td>15</td>
            <td>Transaction amount</td>
        </tr>
        <tr>
            <td>bookingDate</td>
            <td>D</td>
            <td>YES</td>
            <td>-</td>
            <td>-</td>
            <td>
                <p>2018-07-09 17:28:40.344849 Europe/Warsaw</p>
                <p>presentment date/acceptance date</p>
            </td>
        </tr>
        <tr>
            <td>valueDate</td>
            <td>D</td>
            <td>YES</td>
            <td>-</td>
            <td>-</td>
            <td>2018-07-09 17:28:40.344849 Europe/Warsaw authorization date/creation date</td>
        </tr>
    </table>
    <h4>Request </h4>
    <pre class="code">
GET [host]/OpenBankingServices/v1/accounts/[iban]/transactions?iban=PL61124069604100380930511879&amp;dateFrom=2017-07-21&amp;dateTo=2019-08-25&amp;bookingStatus=booked HTTP/1.1
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=12CAEE220DD484712C8679DFCEDD47D3
Consent-Id: E0OH9RTHGPX7I9C
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",headers="Digest X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))"
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp
Psu-Ip-Address: 192.168.1.1
Psu-Id: testtppid
User-Agent: PostmanRuntime/7.16.3
Accept: */*
Host: lvov.csltd.com.ua
Accept-Encoding: gzip, deflate
Connection: keep-alive</pre>
    <h4>Response</h4>
    <pre class="code">
HTTP/1.1 200 OK
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 15:56:31 GMT
Content-Type:
application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store,
max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate,max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000; includeSubDomains
X-Frame-Options: DENY

{
	"account": {
		"iban": "PL61124069604100380930511879"
	},
	"transactions": {
		"booked": [
			{
				"purposeCode": "Top Up",
				"debtorName": "Inteligo ",
				"creditorAccount": {},
				"transactionAmount":
					{
						"currency": "PLN",
						"amount": 100000
					},
				"bookingDate": "2019-08-23 13:29:26.943152",
				"valueDate": "2019-08-23 13:29:19.864146"
			},
			{
				"purposeCode": "Move My Funds",
				"debtorName": "KP - Virt",
				"creditorAccount": {},
				"transactionAmount": {
					"currency": "PLN",
					"amount": 1000
				},
				"bookingDate": "2019-08-23 14:59:34.108301",
				"valueDate": "2019-08-23 14:59:33.667299"
			},
			{
				"purposeCode":
					"Move My Funds",
				"debtorName": "KP - Virt",
				"creditorAccount": {},
				"transactionAmount": {
					"currency": "PLN",
					"amount": 1200
				},
				"bookingDate": "2019-08-23 15:17:04.976048",
				"valueDate": "2019-08-23 15:17:04.513866"
			},
			{
				"purposeCode": "Move My Funds",
				"debtorName": "KP - Virt",
				"creditorAccount": {},
				"transactionAmount":
					{
						"currency": "PLN",
						"amount": 200
					},
				"bookingDate": "2019-08-23 15:40:26.232925",
				"valueDate": "2019-08-23 15:40:25.791896"
			},
			{
				"purposeCode": "Move My Funds",
				"debtorName": "KP - Virt",
				"creditorAccount": {},
				"transactionAmount": {
					"currency": "PLN",
					"amount": 1000
				},
				"bookingDate": "2019-08-23 15:44:28.40484",
				"valueDate": "2019-08-23 15:44:27.949699"
			},
			{
				"purposeCode": "Move My Funds",
				"creditorName": "KP - Virt",
				"creditorAccount": {},
				"transactionAmount": {
					"currency": "PLN",
					"amount": -10000
				},
				"bookingDate": "2019-08-23 15:46:35.819024",
				"valueDate": "2019-08-23 15: 46:35.501909"
			},
			{
				"purposeCode": "DiP transfer",
				"creditorName": "Ted Red",
				"creditorAccount": {},
				"transactionAmount":
					{
						"currency": "PLN",
						"amount": -5000
					},
				"bookingDate": "2019-08-23 13:42:29.103333",
				"valueDate":
					"2019-08-23 13:42:28.764195"
			}
		]
	}
}</pre>
    <h2>Confirmation of Funds Request</h2>
    <p>Service checks if balance of account enough to cover specified amount</p>
    <pre class="code">
POST [host]/OpenBankingServices/v1/funds-confirmations</pre>
    <h4>Request</h4>
    <table class="table table-bordered table-striped">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>Consent-ID</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>?</td>
            <td></td>
        </tr>
        <tr>
            <td>iban</td>
            <td>V</td>
            <td>NOT</td>
            <td>-</td>
            <td>34</td>
            <td>IBAN</td>
        </tr>
        <tr>
            <td>currency</td>
            <td>A</td>
            <td>NOT</td>
            <td>3</td>
            <td>3</td>
            <td>ISO 4217 alphabetic code; Account currency only</td>
        </tr>
        <tr>
            <td>amount</td>
            <td>N</td>
            <td>NOT</td>
            <td>-</td>
            <td>15</td>
            <td>Amount in account currency</td>
        </tr>
    </table>
    <h4>Response</h4>
    <table class="table table-bordered table-striped">
        <tr>
            <td>Parameter</td>
            <td>Type</td>
            <td>Nullable</td>
            <td>Min</td>
            <td>Max</td>
            <td>Note</td>
        </tr>
        <tr>
            <td>fundsAvailable</td>
            <td>B</td>
            <td>NOT</td>
            <td>-</td>
            <td>-</td>
            <td>
                <p><code>true</code> -amount is smaller or equal to available amount on default account in requested
                                     currency</p>
                <p><code>false</code> - amount is bigger than available amount of default account in requested currency
                </p>
            </td>
        </tr>
    </table>
    <h3>Example</h3>
    <pre class="code">
POST [host]/OpenBankingServices/v1/funds-confirmations HTTP/1.1
Cookie: JSESSIONID=DEBBBD061A365E2A70505AFB5CE7F1A7; Cookie_1=value; JSESSIONID=ACF73079EF4B1C91B1A416FB454CD0E9
Consent-Id: KNL2UQ7S7JS3MH3
Content-Type: application/json
Digest: SHA-256=ZuYiOtZkVxhjWmwTO5lOpsPevUNMezvk6dfb6fVhebM=
Signature: keyId="SN=9FA1,CA=D-TRUST%20CA%202-1%202015,O=DTrust%20GmbH,C=D-E",algorithm="rsa-sha256",headers="Digest
X-Request-ID PSU-ID TPP-Redirect-URI Date",signature="Base64(RSA-SHA256(signing string))"
Tpp-Signature-Certificate: MIIElDCCA3ygAwIBAgIJAIX2W+2EDxehMA0GCSqGSIb3DQEBBQUAMEQxCzAJBgNVBAYTAkZSMQswCQYDVQQIEwJGUjETMBEGA1UEChMKQ2VydEV1cm9wZTETMBEGA1UEAxMKQ2VydEV1cm9wZTAeFw0xOTAyMTkxNTIyMDdaFw0yMDAyMTkxNTIyMDdaMIGFMQswCQYDVQQGEwJHQjErMCkGA1UECgwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDErMCkGA1UEAwwiS29uc2VudHVzIFBheW1lbnQgU2VydmljZXMgTGltaXRlZDEcMBoGA1UEYQwTUFNER0ItRkNBLWt0LTQ4NDM0NzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMoLgXDQ+nditYb2tTwxtDnDk5sOPIJyHgeN6omgcOmbmad9+b9PPknWcCdNuyruv0keIv5A8592j8IxIzF3RaNH0OE+SLzFMuAz2xRbA2BrD6q1XPcML5H4lkmEuYGuH+Xtv9zIaTtPQxapQmruUPDHD3+9MjmyyHpkyrRnqQ2JG+df7CEeD9eN53DU7B4u2MgXiibQcyWk2dk+KpGSIssOZA5+aetWs29aD6BJUUOt492UeLIMZAtlGZzF+I5ASMiXzL4wnUSOOLmSfTIsSVm7ChebZe6b7PuY/k3kBw2rrTNhHGWqYPpyzkri9lPhtICe/12r8Mze3UIOZ3QHghMCAwEAAaOCAUUwggFBMAkGA1UdEwQCMAAwHQYDVR0OBBYEFB2DbT6Y4KSVWTsDRIaIet6L0XCCMB8GA1UdIwQYMBaAFNINLe/phgwefLhOutKprennyA1PMAkGA1UdEQQCMAAwUgYDVR0fBEswSTBHoEWgQ4ZBaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS5jcmwwgYcGCCsGAQUFBwEBBHsweTAlBggrBgEFBQcwAYYZaHR0cDovL29jc3Aua29uc2VudHVzLmNvbTBQBggrBgEFBQcwAoZEaHR0cHM6Ly9zMy5ldS13ZXN0LTIuYW1hem9uYXdzLmNvbS9rLWNlcnRzL2t0LXN1Y2Nlc3Mtam91cm5leS1jYS5kZXIwCwYDVR0PBAQDAgTwMA0GCSqGSIb3DQEBBQUAA4IBAQAFrsonr/NNN2Hl9EBB+aAhB3exNnDXCOM8eqoDnwTA3A5Nyj5gXq2cy5s8S2CjAodj9yG3ZQdAxN/MVlZ909cmZC87M87KGw0x1LkfF5M65nMz5ynx6NeCASO0uqNkt4yKrT6EDuq7E8hoFteYQ6z4xMKX3NZ2KzIE8EWxuHOYPSjEbCeYea4ACTThOlPeFgWFMTs/oRXMkDRTcFcWthEaUKiFRJsqGMKZNp++q9gOAcB84H6+PekbieZKHxNEXTiFIwKMhCQ/FI8kwhdJxq8iBRc++fCkZ/HfS0ezYQoUaCfGckZpS6HK8TKP/HHNe/TCxS1xFVkO1k8cNK5ZFjQp
Psu-Ip-Address: 192.168.1.1
Psu-Id: testtppid
User-Agent: PostmanRuntime/7.16.3
Accept: */*
Host: lvov.csltd.com.ua
Accept-Encoding: gzip, deflate
Content-Length: 147
Connection: keep-alive

{
	"account": {
		"iban": "PL32124069604100800000004863"
	},
	"instructedAmount":
		{
			"amount": "140",
			"currency": "PLN"
		}
}</pre>
    <h4>Response</h4>
    <pre class="code">
HTTP/1.1 200 OK
Server: nginx/1.12.2
Date: Wed, 11 Sep 2019 12:42:30 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Cache-Control: no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0
Pragma: no-cache
Expires: 0
Strict-Transport-Security: max-age=31536000; includeSubDomains
X-Frame-Options: DENY

{
    "fundsAvailable": true
}</pre>

    <p>Table describes how to count data access attempts</p>
    <table class="table table-striped table-bordered">
        <tr>
            <td></td>
            <td>Access attempts decrease</td>
        </tr>
        <tr>
            <td><a>Get Consent Status Request</a></td>
            <td>-</td>
        </tr>
        <tr>
            <td><a>Get Consent Request</a></td>
            <td>-</td>
        </tr>
        <tr>
            <td><a>Delete an Account Information Consent Object</a></td>
            <td>-</td>
        </tr>
        <tr>
            <td><a>Read Account List</a></td>
            <td>-</td>
        </tr>
        <tr>
            <td><a>Read Account Details</a></td>
            <td>-</td>
        </tr>
        <tr>
            <td><a>Read Balance</a></td>
            <td>+</td>
        </tr>
        <tr>
            <td><a>Read Transaction List</a></td>
            <td>+</td>
        </tr>
        <tr>
            <td><a>Confirmation of Funds Request</a></td>
            <td>+</td>
        </tr>
        <tr>
            <td>Request returns error</td>
            <td>-</td>
        </tr>
    </table>
    <h2>Error codes</h2>
    <table class="table table-striped table-bordered">
        <tr>
            <td>
                200 OK
            </td>
            <td>
                PUT, GET Response Codes
            </td>
        </tr>
        <tr>
            <td>
                204 No Content
            </td>
            <td>
                DELETE response code where a consent resource was successfully deleted. The code indicates that the request was performed, but no content was returned.
            </td>
        </tr>
        <tr>
            <td>
                400 Bad Request
            </td>
            <td>
                Validation error occurred. This code will cover malformed syntax in request or incorrect data in payload.
            </td>
        </tr>

        <tr>
            <td>
                401 Unauthorized
            </td>
            <td>
                The TPP or the PSU is not correctly authorized to perform the request. Retry the request with correct authentication information.
            </td>
        </tr>
        <tr>
            <td>
                404 Not found
            </td>
            <td>
                Returned if the resource or endpoint that was referenced in the path does not exist or cannot be referenced by the TPP or the PSU.
            </td>
        </tr>
        <tr>
            <td>
                405 Method Not Allowed
            </td>
            <td>
                This code is only sent when the HTTP method (POST, DELETE, GET etc.) is not supported on a specific endpoint. It has nothing to do with the consent or account information data model.
            </td>
        </tr>
        <tr>
            <td>
                415 Unsupported Media Type
            </td>
            <td>
                The TPP has supplied a media type which the ASPSP does not support.
            </td>
        </tr>
        <tr>
            <td>
                429 Too Many Requests
            </td>
            <td>
                The TPP has exceeded the number of requests allowed by the consent or by the RTS.
            </td>
        </tr>
        <tr>
            <td>
                500 Internal Server Error
            </td>
            <td>
                Internal server error occurred.
            </td>
        </tr>
        <tr>
            <td>
                503 Service Unavailable
            </td>
            <td>
                The ASPSP server is currently unavailable.
            </td>
        </tr>
    </table>
</div>
</body>
</html>
